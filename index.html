<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Accueil — Elouan VERGUIN (3e)</title>
  <meta name="color-scheme" content="light only">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
  <style>
    :root{
      --ink:#0a0a0a;
      --muted:#6f7277;
      --h:56px;
      --b:1px;
      --maxw:640px;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0}
    body{
      font-family:"Inter",system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial;
      background:#fff;color:var(--ink);
      -webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;
    }
    .center{min-height:100svh;display:grid;place-items:center;padding:24px}
    main{width:min(var(--maxw),92vw);text-align:center}
    h1{margin:0;font-weight:900;font-size:clamp(40px,8vw,80px);letter-spacing:-.02em;color:var(--ink)}
    .rule{margin:16px auto 28px;width:100%;height:var(--b);background:var(--ink)}
    .sub{margin:0 0 18px 0;color:var(--muted);font-size:clamp(14px,2.4vw,16px)}
    .search{margin:0 auto;width:100%;height:var(--h);border-bottom:var(--b) solid var(--ink);display:grid;grid-template-columns:1fr;align-items:end;background:#fff}
    .search input{border:none;outline:none;background:transparent;font:inherit;color:var(--ink);font-size:clamp(16px,2.8vw,18px);padding:0 0 6px 0;height:calc(var(--h) - 2px);width:100%}
    .msg{margin:12px 0 0 0;min-height:1.4em;font-size:14px}
    .ok{color:#0b5d1d}.err{color:#9b1c1c}
    footer{margin-top:48px;color:#9aa0a6;font-size:12px}
  </style>
</head>
<body>
  <div class="center">
    <main>
      <h1>Elouan VERGUIN</h1>
      <div class="rule" aria-hidden="true"></div>
      <p class="sub">Entrez une matière pour accéder à la page correspondante.</p>

      <form class="search" role="search" aria-label="Recherche de matière" onsubmit="submitSearch(event)">
        <input id="q" type="search" inputmode="search" autocomplete="off" placeholder="Matière" aria-label="Rechercher une matière">
      </form>

      <p class="msg" id="msg" role="status" aria-live="polite"></p>
      <footer>rcaillié - 2025, 2026</footer>
    </main>
  </div>

  <script>
    function norm(s){
      return (s||'').toLowerCase().normalize('NFD').replace(/[\u0300-\u036f]/g,'').replace(/[^a-z0-9]+/g,' ').trim().replace(/\s+/g,' ');
    }
    const subjects=[
      {slug:'art plastique',url:'apla.html',synonyms:['art','arts','art plastique','arts plastiques','ap','artspla','arts-plastiques','artsplastiques','arts visuels']},
      {slug:'maths',url:'maths.html',synonyms:['math','maths','mathematiques','mathématiques','algebre','algèbre','geometrie','géométrie','calcul']},
      {slug:'francais',url:'francais.html',synonyms:['francais','français','fr','lecture','ecriture','écriture','grammaire','orthographe']},
      {slug:'histoire geo',url:'hg.html',synonyms:['histoire','geo','géographie','histoire geo','histoire-geographie','histoire géographie','hg','h-g']},
      {slug:'svt',url:'svt.html',synonyms:['svt','sciences de la vie et de la terre','sciences','biologie','terre']},
      {slug:'physique chimie',url:'physique-chimie.html',synonyms:['physique','chimie','pc','physique chimie','physique-chimie']},
      {slug:'anglais',url:'anglais.html',synonyms:['anglais','english','eng']},
      {slug:'espagnol',url:'espagnol.html',synonyms:['espagnol','esp','es']},
      {slug:'technologie',url:'technologie.html',synonyms:['technologie','techno','tech']},
      {slug:'musique',url:'musique.html',synonyms:['musique','education musicale','éducation musicale','ed musique']}
    ];
    const index=new Map();for(const s of subjects){index.set(norm(s.slug),s);for(const syn of s.synonyms)index.set(norm(syn),s);}
    function dld(a,b){const A=a.length,B=b.length;if(!A)return B;if(!B)return A;const da=Array.from({length:A+1},(_,i)=>i);const db=new Array(B+1);for(let j=1;j<=B;j++){db[0]=j;let prev=j-1;for(let i=1;i<=A;i++){const tmp=db[i];const cost=a[i-1]===b[j-1]?0:1;db[i]=Math.min(db[i-1]+1,da[i]+1,prev+cost);if(i>1&&j>1&&a[i-1]===b[j-2]&&a[i-2]===b[j-1]){db[i]=Math.min(db[i],da[i-2]+1)}prev=tmp}for(let i=0;i<=A;i++)da[i]=db[i]}return da[A]}
    function resolve(query){
      const n=norm(query);if(!n)return null;
      if(index.has(n))return index.get(n);
      for(const s of subjects){const sl=norm(s.slug);if(sl.includes(n)||n.includes(sl))return s;for(const syn of s.synonyms){const ns=norm(syn);if(ns.includes(n)||n.includes(ns))return s}}
      let best=null,bestScore=Infinity;const keys=[];for(const s of subjects){keys.push([s,norm(s.slug)]);for(const syn of s.synonyms)keys.push([s,norm(syn)])}
      for(const [s,key]of keys){const dist=dld(n,key);if(dist<bestScore){best=s;bestScore=dist}}
      const L=n.length,th=L<=4?1:(L<=8?2:3);return bestScore<=th?best:null;
    }
    function submitSearch(e){
      e.preventDefault();
      const field=document.getElementById('q'),msg=document.getElementById('msg');
      const res=resolve(field.value);
      if(res){msg.className='msg ok';msg.textContent='Ouverture : '+res.slug;setTimeout(()=>{window.location.href=res.url},100)}
      else{msg.className='msg err';msg.textContent='Matière introuvable.'}
    }
    document.getElementById('q').addEventListener('keydown',e=>{if(e.key==='Enter')submitSearch(e)});
  </script>
</body>
</html>
